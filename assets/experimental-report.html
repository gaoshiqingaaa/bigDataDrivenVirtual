<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实验报告</title>
    <link rel="stylesheet" href="../lib/css/layui.css">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/teacher-experimental-report.css" />
    <link rel="stylesheet" href="../css/public.css" />
</head>
<body>
<div class="box2">
    <div id="nav">
        <a href="../index.html"><button type="button" class="layui-btn2  layui-btn-primary" id="but1"><p class="navfont">返回</p></button></a>
    </div>
    <div class="div1">
        <a href="#"><div id="div1imgdownload"></div></a>

        <div class="div11">
            <div class="div11img1"></div>
            <div class="div11font"><span>实验目的</span></div>
            <div class="div21font">
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo</p>
                <p>commodo. Proin sodales pulvinar sic tempor. Socis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla</p>
                <p>nascetur ridiculus mus.Nam fermentum,nulla luctus pharetra vulputate,felis tellus mollis orci,sed rhoncus pronin sapien nunc accuan</p>
                <p>eget</p>
            </div>
        </div>
        
        <div class="div12">
            <div class="div11img2"></div>
            <div class="div12font"><span>实验原理</span></div>
            <div class="div21font">
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean euismod bibendum laoreet. Proin gravida dolor sit amet lacus accumsan et viverra justo</p>
                <p>commodo. Proin sodales pulvinar sic tempor. Socis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam fermentum, nulla</p>
                <p>nascetur ridiculus mus.Nam fermentum,nulla luctus pharetra vulputate,felis tellus mollis orci,sed rhoncus pronin sapien nunc accuan</p>
                <p>eget</p>
            </div>
        </div>

        <div class="div13">
            <div class="div11img3"></div>
            <div class="div12font"><span>实验环节及得分</span></div>
            <div class="div21font">

               <p class="div13font1">1.快问快答</p>
                <div class="div131">
                    <table class="div13tb1">
                        <tr>
                            <td>题号</td>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                            <td>8</td>
                            <td>9</td>
                            <td>10</td>
                            <td>11</td>
                            <td>12</td>
                            <td>13</td>
                            <td>14</td>
                            <td>15</td>
                        </tr>

                        <tr>
                            <td>得分</td>
                            <td id="ti1"></td>
                            <td id="ti2"></td>
                            <td id="ti3"></td>
                            <td id="ti4"></td>
                            <td id="ti5"></td>
                            <td id="ti6"></td>
                            <td id="ti7"></td>
                            <td id="ti8"></td>
                            <td id="ti9"></td>
                            <td id="ti10"></td>
                            <td id="ti11"></td>
                            <td id="ti12"></td>
                            <td id="ti13"></td>
                            <td id="ti14"></td>
                            <td id="ti15"></td>
                        </tr>
                    </table>
                </div>

                <p class="div13font2">2.风险评测</p>
                    <div class="div132">
                        <table class="div13tb2">
                            <tr>
                                <td class="div13tb2td1font">平测结果</td>
                                <td class="div13tb1td1">保守型/相对保守型/稳健型/相对积极型/积极型</td>
                            </tr>
                        </table>
                    </div>

                <p class="div13font3">3.实验步骤</p>
                    <div class="div133">
                        <table class="div13tb3">
                            <tr>
                                <td class="div13tb3td1" style="font-weight:bold">实验步骤</td>
                                <td class="div13tb3td2" style="font-weight:bold">代码</td>
                                <td class="div13tb3td2" style="font-weight:bold">运行结果</td>
                                <td class="div13tb3td3" style="font-weight:bold">得分</td>
                            </tr>

                            <tr>
                                <td class="div13tb3td1">资产大类数据准备</td>
                                <td class="div13tb3td2">
                                    <img id="code1" style="width: 100%;">
                                </td>
                                <td class="div13tb3td2">
                                    <img id="Operation_results1" style="width: 100%;">
                                </td>
                                <td class="div13tb3td3"></td>
                            </tr>
                            
                            <tr>
                                <td class="div13tb3td1">计算年化收益率</td>
                                <td class="div13tb3td2">
                                    <img id="code2" style="width: 100%;">
                                </td>
                                <td class="div13tb3td2">
                                    <img id="Operation_results2" style="width: 100%;">
                                </td>
                                <td class="div13tb3td3"></td>
                            </tr>
                            
                            <tr>
                                <td class="div13tb3td1">计算年化标准差</td>
                                <td class="div13tb3td2">
                                    <img id="code3" style="width: 100%;">
                                </td>
                                <td class="div13tb3td2">
                                    <img id="Operation_results3" style="width: 100%;">
                                </td>
                                <td class="div13tb3td3"></td>
                            </tr>

                            <tr>
                                <td class="div13tb3td1">相关性系数矩阵</td>
                                <td class="div13tb3td2">
                                    <img id="code4" style="width: 100%;">
                                </td>
                                <td class="div13tb3td2">
                                    <img id="Operation_results4" style="width: 100%;">
                                </td>
                                <td class="div13tb3td3"></td>
                            </tr>

                            <tr>
                                <td class="div13tb3td1">构建组合的Effcient Frontier</td>
                                <td class="div13tb3td5">
                                    <img id="code5" style="width: 100%;">
                                </td>
                                <td class="div13tb3td2">
                                    <img id="Operation_results5" style="width: 100%;">
                                </td>
                                <td class="div13tb3td3"></td>
                            </tr>

                            <tr>
                                <td class="div13tb3td1">计算资产配置权重</td>
                                <td class="div13tb3td2">
                                    <img id="code6" style="width: 100%;">
                                </td>
                                <td class="div13tb3td2">
                                    <img id="Operation_results6" style="width: 100%;">
                                </td>
                                <td class="div13tb3td3"></td>
                            </tr>

                            <tr>
                                <td class="div13tb3td1">半年后总收益</td>
                                <td class="div13tb3td2">
                                    <img id="code7" style="width: 100%;">
                                </td>
                                <td class="div13tb3td2">
                                    <img id="Operation_results7" style="width: 100%;">
                                </td>
                                <td class="div13tb3td3"></td>
                            </tr>
                        </table>
                    </div>
                
                <p class="div13font4">4.实验成绩</p>
                    <div class="div134">
                        <table class="div13tb4">
                            <td class="div13tb2td1font">总分</td>
                            <td class="div13tb1td1">95分</td>
                        </table>
                    </div>
                </div>
        </div>

        <div class="div14">
            <div class="div11img4"></div>
            <div class="div12font"><span>心得体会</span></div>

            <div class="layui-form-item layui-form-text div2win">
                <div class="div1btn">
                    <button type="button" class="layui-btn1 layui-btn-primary" id="tijiao"><p class="font">提交</p></button>
                </div>
                <div class="layui-input-block">
                  <textarea class="layui-textarea"></textarea>
                </div>
            </div>

        </div>
    </div>
</div>
</body>
<script src="../lib/layui.js"></script>
<script src="../js/jquery-2.1.4.js"></script>
<script src="../lib/layui.all.js"></script>
<script src="../js/jquery.min.js"></script>

<!-- 下载为PDF -->
 	<script src="../js/html2canvas.js"></script>
    <script src="../js/jspdf.min.js"></script>
    <script type="text/javascript">
    $(function(){
    	$(document).on('click','#div1imgdownload',function(){
        	var pdf = new jsPDF('p','pt','a4');
	        pdf.internal.scaleFactor = 1;  //可以调整缩放比例
	        var options = {
	            //pagesplit: true //分页
	            pagesplit: false//不分页
	        };
        	pdf.addHTML($('.div1').get(0),0,0,options,function() {
	            pdf.save($('.header .h1Title').text()+'.pdf');
	        });
        })
    })
</script>

<script>
    const a = JSON.parse(localStorage.getItem("test_value"));
        $("#ti1").html(String(a["ti1"]));
        $("#ti2").html(String(a["ti2"]));
        $("#ti3").html(String(a["ti3"]));
        $("#ti4").html(String(a["ti4"]));
        $("#ti5").html(String(a["ti5"]));
        $("#ti6").html(String(a["ti6"]));
        $("#ti7").html(String(a["ti7"]));
        $("#ti8").html(String(a["ti8"]));
        $("#ti9").html(String(a["ti9"]));
        $("#ti10").html(String(a["ti10"]));
        $("#ti11").html(String(a["ti11"]));
        $("#ti12").html(String(a["ti12"]));
        $("#ti13").html(String(a["ti13"]));
        $("#ti14").html(String(a["ti14"]));
        $("#ti15").html(String(a["ti15"]));
</script>

<!-- 请求图片 -->
<script>
    $.ajax({
    /* url 地址可以是 /get-json/ 的方式
    *  也可以是 http://www.qfedu.com/get-json/ 的方式
    */
    url: 'http://127.0.0.1:5000/result',
    type: 'POST',
    dataType: 'json',
    data:{"user":"b1a438cf-85c3-4d04-bec4-02a37ea2588d"},
    success: function(data){
        // 成功处理逻辑
        
        $("#code1").attr('src',".."+data.code[0]);
        $("#Operation_results1").attr('src',".."+data.print[0]);
        $("#code2").attr('src',".."+data.code[1]);
        $("#Operation_results2").attr('src',".."+data.print[1]);
        $("#code3").attr('src',".."+data.code[2]);
        $("#Operation_results3").attr('src',".."+data.print[2]);
        $("#code4").attr('src',".."+data.code[3]);
        $("#Operation_results4").attr('src',".."+data.print[3]);
        $("#code5").attr('src',".."+data.code[4]);
        $("#Operation_results5").attr('src',".."+data.print[4]);
        $("#code6").attr('src',".."+data.code[5]);
        $("#Operation_results6").attr('src',".."+data.print[5]);
        $("#code7").attr('src',".."+data.code[6]);
        $("#Operation_results7").attr('src',".."+data.print[6]);
     },
    error: function(res){
        // 错误时处理逻辑
        }
            });
</script>

<!-- 提交 -->
<script>
    $('button:button[id="tijiao"]').click(function(){ 
        layer.alert('您已成功提交')
    });
</script>


</html>
